/* Twikoo 样式 - 使用博客 CSS 变量系统 */

/* 隐藏头像 */
.tk-submit .tk-avatar {
  display: none;
}

/* 隐藏排序选项框（最新、最早、热门） - 尝试多种选择器 */
.tk-comments-title .el-select,
.tk-comments-title .el-select-wrapper,
.tk-comments-title [class*='sort'],
.tk-comments-title select {
  display: none !important;
}

/* 评论容器 */
.tk-comments,
.tk-comments-container,
.tk-container {
  color: rgb(var(--color-text-primary));
}

/* 输入区域 */
.tk-row .tk-col {
  flex-direction: column-reverse;
}

.tk-row .tk-col .tk-input textarea {
  border-radius: 0.5rem;
  padding: 1rem 1.5rem;
  min-height: 150px;
  background-color: rgb(var(--color-bg-secondary));
  color: rgb(var(--color-text-primary));
  border: 1px solid rgb(var(--color-border-primary));
}

.tk-row .tk-col .tk-input textarea:focus {
  border-color: rgb(var(--color-accent));
  outline: none;
}

.tk-row .tk-col .tk-input textarea::placeholder {
  color: rgb(var(--color-text-secondary));
  opacity: 0.7;
}

/* 信息输入框容器 */
.tk-meta-input {
  position: relative;
  margin-top: 0.75rem;
  margin-left: 0 !important;
  margin-bottom: 0.5rem;
}

.tk-meta-input div {
  min-height: 2.5rem;
}

/* 信息输入框默认样式 */
.tk-meta-input .el-input {
  flex: 1;
  width: auto;
}

.tk-meta-input .el-input .el-input-group__prepend {
  background-color: rgb(var(--color-bg-secondary)) !important;
  color: rgb(var(--color-text-secondary)) !important;
  border-radius: 0.5rem 0 0 0.5rem;
  border: 1px solid rgb(var(--color-border-primary)) !important;
  min-height: 2.5rem;
  transition: border-color 0.2s ease;
}

.tk-meta-input .el-input input {
  padding: 0 1rem;
  border-radius: 0 0.5rem 0.5rem 0;
  background-color: rgb(var(--color-bg-secondary)) !important;
  color: rgb(var(--color-text-primary)) !important;
  border: 1px solid rgb(var(--color-border-primary)) !important;
  border-left: none !important;
  min-height: 2.5rem;
  transition: border-color 0.2s ease;
}

.tk-meta-input .el-input input:focus {
  outline: none;
}

.tk-meta-input .el-input input::placeholder {
  color: rgb(var(--color-text-secondary));
}

/* 单个输入框聚焦时的样式 - 只影响当前 el-input */
.tk-meta-input .el-input:focus-within .el-input-group__prepend {
  border-top-color: rgb(var(--color-accent)) !important;
  border-left-color: rgb(var(--color-accent)) !important;
  border-bottom-color: rgb(var(--color-accent)) !important;
}

.tk-meta-input .el-input:focus-within input {
  border-top-color: rgb(var(--color-accent)) !important;
  border-right-color: rgb(var(--color-accent)) !important;
  border-bottom-color: rgb(var(--color-accent)) !important;
}

/* 按钮区域 */
.tk-row.actions {
  width: 100%;
  margin-left: 0 !important;
  margin-top: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
}

/* 左侧按钮组（表情等） */
.tk-row-actions-start {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.tk-row.actions .__markdown {
  display: none;
}

.tk-row.actions .tk-preview,
.tk-row.actions .tk-send,
.tk-row.actions .tk-cancel {
  border: none;
  border-radius: 0.5rem;
  padding: 0 0.75rem;
  height: 2rem;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.tk-row.actions .tk-send {
  background-color: rgb(var(--color-accent)) !important;
  color: white !important;
}

.tk-row.actions .tk-send:hover {
  opacity: 0.9;
}

.tk-row.actions .tk-preview {
  background-color: rgb(var(--color-bg-secondary)) !important;
  color: rgb(var(--color-text-primary)) !important;
  border: 1px solid rgb(var(--color-border-primary));
}

.tk-row.actions .tk-preview:hover {
  background-color: rgb(var(--color-bg-primary)) !important;
}

.tk-row.actions .tk-cancel {
  background-color: rgb(var(--color-bg-secondary)) !important;
  color: rgb(var(--color-text-primary)) !important;
  border: 1px solid rgb(var(--color-border-primary));
}

/* 评论标题 */
.tk-comments-title {
  color: rgb(var(--color-text-primary));
}

.tk-comments-title .__comments svg {
  fill: rgb(var(--color-accent));
}

/* 评论卡片 */
.tk-comment {
  border: 1px solid rgb(var(--color-border-primary));
  padding: 1rem;
  border-radius: 1rem;
  background-color: rgb(var(--color-bg-primary));
}

.tk-comment .tk-action-icon svg {
  fill: rgb(var(--color-accent));
}

/* 用户名 */
.tk-nick {
  color: rgb(var(--color-text-primary));
  font-weight: 500;
}

/* 时间 */
.tk-time {
  color: rgb(var(--color-text-secondary));
}

/* 评论内容 */
.tk-content {
  color: rgb(var(--color-text-primary));
}

.tk-content a {
  color: rgb(var(--color-accent));
  text-decoration: none;
}

.tk-content a:hover {
  text-decoration: underline;
}

.tk-content img {
  display: inline;
  vertical-align: bottom;
}

.tk-content code:not(pre code) {
  background-color: rgb(var(--color-bg-secondary));
  color: rgb(var(--color-text-primary));
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

.tk-content blockquote {
  margin: 0.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid rgb(var(--color-accent));
  color: rgb(var(--color-text-secondary));
}

.tk-content ul > li::marker,
.tk-content ol > li::marker {
  color: rgb(var(--color-accent));
}

/* 回复区域 */
.tk-replies .tk-comment {
  background-color: rgb(var(--color-bg-secondary));
}

/* 操作按钮 */
.tk-action .tk-action-count {
  color: rgb(var(--color-text-secondary));
}

.tk-action-link {
  color: rgb(var(--color-accent));
}

.tk-action-link:hover {
  opacity: 0.8;
}

/* 标签 */
.tk-meta .tk-tag {
  border: none;
  border-radius: 0.5rem;
  color: rgb(var(--color-text-primary));
  background-color: rgb(var(--color-bg-secondary));
}

/* 展开/收起 */
.tk-expand-wrap .tk-expand,
.tk-collapse-wrap .tk-expand {
  color: rgb(var(--color-text-primary));
  border-radius: 0.5rem;
}

.tk-expand-wrap .tk-expand:hover,
.tk-collapse-wrap .tk-expand:hover {
  background-color: rgb(var(--color-bg-secondary));
}

/* 预览区域 */
.tk-preview-container {
  background-color: rgb(var(--color-bg-secondary));
  color: rgb(var(--color-text-primary));
  padding: 1rem;
  border-radius: 0.5rem;
}

/* 分页 */
.tk-pagination button {
  color: rgb(var(--color-text-primary));
  background-color: rgb(var(--color-bg-secondary));
  border: 1px solid rgb(var(--color-border-primary));
  border-radius: 0.25rem;
}

.tk-pagination button:hover {
  border-color: rgb(var(--color-accent));
  color: rgb(var(--color-accent));
}

.tk-pagination button.tk-active {
  background-color: rgb(var(--color-accent));
  color: white;
  border-color: rgb(var(--color-accent));
}

/* 表情面板 */
.tk-owo-emotion {
  background-color: rgb(var(--color-bg-primary));
  border: 1px solid rgb(var(--color-border-primary));
  border-radius: 0.5rem;
}

/* 代码块 */
.twikoo .code-block pre {
  border-radius: 0.75rem;
}

.twikoo .code-block pre:not([class]) {
  background-color: #2d2d2d;
  color: #d1d5db;
  overflow: auto;
  padding: 0.5rem;
}

/* Element UI 深色模式适配 */
.el-input__wrapper {
  background-color: rgb(var(--color-bg-secondary));
  box-shadow: 0 0 0 1px rgb(var(--color-border-primary));
}

.el-input__inner {
  color: rgb(var(--color-text-primary));
}

.el-input__inner::placeholder {
  color: rgb(var(--color-text-secondary));
}

/* 回复输入框 */
.tk-reply-input {
  background-color: rgb(var(--color-bg-secondary));
}

.tk-reply-input textarea {
  background-color: rgb(var(--color-bg-secondary));
  color: rgb(var(--color-text-primary));
  border: 1px solid rgb(var(--color-border-primary));
}

/* 评论计数 */
.tk-comments-count {
  color: rgb(var(--color-text-primary));
}

/* 管理按钮 */
.tk-admin {
  color: rgb(var(--color-text-secondary));
}

.tk-admin:hover {
  color: rgb(var(--color-accent));
}

/* Emoji 组件显示修复 */
.card-base {
  overflow: visible;
}

/* Loading 动画主题色适配 */
.el-loading-spinner .path {
  stroke: rgb(var(--color-accent)) !important;
}

.el-loading-spinner .el-loading-text {
  color: rgb(var(--color-accent)) !important;
}

.el-loading-spinner i {
  color: rgb(var(--color-accent)) !important;
}
